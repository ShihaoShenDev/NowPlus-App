<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:NowPlus.Cross.PageModels"
             x:DataType="viewmodels:TimerPageModel"
             x:Class="NowPlus.Cross.Pages.TimerPage"
             Title="Timer">
    <VerticalStackLayout Spacing="25" Padding="30" VerticalOptions="Center">
        <Label Text="{Binding RemainingTimeDisplay}"
               FontSize="80"
               FontAttributes="Bold"
               HorizontalOptions="Center"
               FontFamily="monospace" />

        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10" IsVisible="{Binding IsNotRunning}" HorizontalOptions="Center" WidthRequest="300">
            <!-- Hours -->
            <VerticalStackLayout Grid.Column="0" Spacing="5" HorizontalOptions="Center">
                <Button ImageSource="{StaticResource IconAdd}" Command="{Binding AdjustHoursCommand}" CommandParameter="1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="{Binding Hours, StringFormat='{0:D2}'}" FontSize="32" HorizontalOptions="Center" FontAttributes="Bold" />
                <Button ImageSource="{StaticResource IconSubtract}" Command="{Binding AdjustHoursCommand}" CommandParameter="-1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="Hrs" HorizontalOptions="Center" FontSize="12" Opacity="0.7" />
            </VerticalStackLayout>
            <!-- Minutes -->
            <VerticalStackLayout Grid.Column="1" Spacing="5" HorizontalOptions="Center">
                <Button ImageSource="{StaticResource IconAdd}" Command="{Binding AdjustMinutesCommand}" CommandParameter="1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="{Binding Minutes, StringFormat='{0:D2}'}" FontSize="32" HorizontalOptions="Center" FontAttributes="Bold" />
                <Button ImageSource="{StaticResource IconSubtract}" Command="{Binding AdjustMinutesCommand}" CommandParameter="-1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="Min" HorizontalOptions="Center" FontSize="12" Opacity="0.7" />
            </VerticalStackLayout>
            <!-- Seconds -->
            <VerticalStackLayout Grid.Column="2" Spacing="5" HorizontalOptions="Center">
                <Button ImageSource="{StaticResource IconAdd}" Command="{Binding AdjustSecondsCommand}" CommandParameter="1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="{Binding Seconds, StringFormat='{0:D2}'}" FontSize="32" HorizontalOptions="Center" FontAttributes="Bold" />
                <Button ImageSource="{StaticResource IconSubtract}" Command="{Binding AdjustSecondsCommand}" CommandParameter="-1" Style="{StaticResource AdjustmentButtonStyle}" />
                <Label Text="Sec" HorizontalOptions="Center" FontSize="12" Opacity="0.7" />
            </VerticalStackLayout>
        </Grid>
        <HorizontalStackLayout Spacing="20" HorizontalOptions="Center">
            <Button Text="{Binding StartStopText}"
                    Command="{Binding StartStopCommand}"
                    WidthRequest="120" />
            <Button Text="Reset"
                    Command="{Binding ResetCommand}"
                    WidthRequest="120" />
        </HorizontalStackLayout>
    </VerticalStackLayout>
</ContentPage>
